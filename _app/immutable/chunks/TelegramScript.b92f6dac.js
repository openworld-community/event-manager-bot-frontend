import{S as it,i as lt,s as ot,k as st,R as ft,l as dt,m as ut,h as xe,T as ct,n as pt,C as mt,D as Se,o as ht}from"./index.e1835ef0.js";function Ie(e,t){for(let a in e)t(e[a],a)}function z(e,t){e.forEach(t)}function C(e,t){if(!e)throw Error(t)}function J({node:e=[],from:t,source:a,parent:r=t||a,to:i,target:o,child:n=i||o,scope:d={},meta:m={},family:c={type:"regular"},regional:p}={}){let h=ie(r),g=ie(c.links),l=ie(c.owners),f=[];z(e,u=>u&&j(f,u));let s={id:$t(),seq:f,next:ie(n),meta:m,scope:d,family:{type:c.type||"crosslink",links:g,owners:l}};return z(g,u=>j(ge(u),s)),z(l,u=>j(ye(u),s)),z(h,u=>j(u.next,s)),p&&Q&&ve(le(Q),[s]),s}function se(e,t,a){let r,i=D,o=null,n=b;if(e.target&&(t=e.params,a=e.defer,r=e.meta,i="page"in e?e.page:i,e.stack&&(o=e.stack),n=L(e)||n,e=e.target),n&&b&&n!==b&&(b=null),Array.isArray(e))for(let f=0;f<e.length;f++)B("pure",i,R(e[f]),o,t[f],n,r);else B("pure",i,R(e),o,t,n,r);if(a&&!fe)return;let d,m,c,p,h,g,l={isRoot:fe,currentPage:D,scope:b,isWatch:ue,isPure:ce};fe=0;e:for(;p=qt();){let{idx:f,stack:s,type:u}=p;c=s.node,D=h=s.page,b=L(s),h?g=h.reg:b&&(g=b.reg);let w=!!h,$=!!b,q={fail:0,scope:c.scope};d=m=0;for(let k=f;k<c.seq.length&&!d;k++){let v=c.seq[k];if(v.order){let{priority:x,barrierID:y}=v.order,S=y?h?`${h.fullID}_${y}`:y:0;if(k!==f||u!==x){y?we.has(S)||(we.add(S),Ce(k,s,x,y)):Ce(k,s,x);continue e}y&&we.delete(S)}switch(v.type){case"mov":{let y,S=v.data;switch(S.from){case U:y=le(s);break;case"a":case"b":y=s[S.from];break;case"value":y=S.store;break;case"store":if(g&&!g[S.store.id])if(w){let ke=Ze(h,S.store.id);s.page=h=ke,ke?g=ke.reg:$?(te(b,S.store,0,1,S.softRead),g=b.reg):g=void 0}else $&&te(b,S.store,0,1,S.softRead);y=oe(g&&g[S.store.id]||S.store)}switch(S.to){case U:s.value=y;break;case"a":case"b":s[S.to]=y;break;case"store":Rt(h,b,c,S.target).current=y}break}case"compute":let x=v.data;if(x.fn){ue=M(c,"op")==="watch",ce=x.pure;let y=x.safe?(0,x.fn)(le(s),q.scope,s):_t(q,x.fn,s);x.filter?m=!y:s.value=y,ue=l.isWatch,ce=l.isPure}}d=q.fail||m}if(!d){let k=le(s),v=L(s);if(z(c.next,x=>{B("child",h,x,s,k,v)}),v){M(c,"needFxCounter")&&B("child",h,v.fxCount,s,k,v),M(c,"storeChange")&&B("child",h,v.storeChange,s,k,v),M(c,"warnSerialize")&&B("child",h,v.warnSerializeNode,s,k,v);let x=v.additionalLinks[c.id];x&&z(x,y=>{B("child",h,y,s,k,v)})}}}fe=l.isRoot,D=l.currentPage,b=L(l)}function Ge(e,t="combine"){let a=t+"(",r="",i=0;return Ie(e,o=>{i<25&&(o!=null&&(a+=r,a+=X(o)?He(o).fullName:o.toString()),i+=1,r=", ")}),a+")"}function gt(e,t){let a,r,i=e;if(t){let o=He(t);e.length===0?(a=o.path,r=o.fullName):(a=o.path.concat([e]),r=o.fullName.length===0?e:o.fullName+"/"+e)}else a=e.length===0?[]:[e],r=e;return{shortName:i,fullName:r,path:a}}function Re(e,t){let a=t?e:e[0];Ve(a);let r=a.or,i=a.and;if(i){let o=t?i:i[0];if(F(o)&&"and"in o){let n=Re(i,t);e=n[0],r={...r,...n[1]}}else e=i}return[e,r]}function I(e,...t){let a=je();if(a){let r=a.handlers[e];if(r)return r(a,...t)}}function W(e,t){let a=re({or:t,and:typeof e=="string"?{name:e}:e}),r=(n,...d)=>(Y(!M(r,"derived"),"call of derived event","createEvent"),Y(!ce,"unit call from pure function","operators like sample"),D?((m,c,p,h)=>{let g=D,l=null;if(c)for(l=D;l&&l.template!==c;)l=G(l);We(l);let f=m.create(p,h);return We(g),f})(r,i,n,d):r.create(n,d)),i=je(),o=Object.assign(r,{graphite:J({meta:rt(a.actualOp||"event",r,a),regional:1}),create:n=>(se({target:r,params:n,scope:b}),n),watch:n=>tt(r,n),map:n=>$e(r,V,n,[T()]),filter:n=>$e(r,"filter",n.fn?n:n.fn,[T(_e,1)]),filterMap:n=>$e(r,"filterMap",n,[T(),O(d=>!N(d),1)]),prepend(n){let d=W("* → "+r.shortName,{parent:G(r)});return I("eventPrepend",R(d)),ae(d,r,[T()],"prepend",n),Et(r,d),d}});return a!=null&&a.domain&&a.domain.hooks.event(o),P(o,"id",o.graphite.id),Qe(o.graphite),o}function Pe(e,t,a,r){return me(a,t,"first argument"),C(A(r),"second argument should be a function"),Y(!M(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`),z(Array.isArray(a)?a:[a],i=>{e.off(i),pe(e).set(i,et(at(i,e,"on",Ct,r)))}),e}function he(e,t){let a=re(t),r=ee(e),i=W({named:"updates",derived:1});I("storeBase",r);let o=r.id,n={subscribers:new Map,updates:i,defaultState:e,stateRef:r,getState(){let l,f=r;if(D){let s=D;for(;s&&!s.reg[o];)s=G(s);s&&(l=s)}return!l&&b&&(te(b,r,1),l=b),l&&(f=l.reg[o]),oe(f)},setState:l=>se({target:n,params:l,defer:1,scope:b}),reset:(...l)=>(z(l,f=>Pe(n,".reset",f,()=>n.defaultState)),n),on:(l,f)=>Pe(n,".on",l,f),off(l){let f=pe(n).get(l);return f&&(f(),pe(n).delete(l)),n},map(l,f){let s,u;F(l)&&(s=l,l=l.fn),Y(N(f),"second argument of store.map","updateFilter");let w=n.getState();je()?u=null:N(w)||(u=l(w,f));let $=he(u,{name:`${n.shortName} → *`,derived:1,and:s}),q=at(n,$,V,ze,l);return Ae(E($),{type:V,fn:l,from:r}),E($).noInit=1,I("storeMap",r,q),$},watch(l,f){if(!f||!X(l)){let s=tt(n,l);return I("storeWatch",r,l)||l(n.getState()),s}return C(A(f),"second argument should be a function"),l.watch(s=>f(n.getState(),s))}},d=rt("store",n,a),m=n.defaultConfig.updateFilter;n.graphite=J({scope:{state:r,fn:m},node:[O((l,f,s)=>(s.scope&&!s.scope.reg[r.id]&&(s.b=1),l)),Z(r),O((l,f,{a:s,b:u})=>!N(l)&&(l!==s||u),1),m&&T(ze,1),_({from:U,target:r})],child:i,meta:{...d,defaultState:e},regional:1}),P(n,"id",n.graphite.id),P(n,"rootStateRefId",o);let c=M(n,"serialize"),p=M(n,"derived"),h=c==="ignore",g=M(n,"sid");return g&&(P(n,"storeChange",1),r.sid=g),g||h||p||P(n,"warnSerialize",1),C(p||!N(e),"current state can't be undefined, use null instead"),ve(n,[i]),a!=null&&a.domain&&a.domain.hooks.store(n),p||(n.reinit=W({named:"reinit"}),n.reset(n.reinit)),r.meta=n.graphite.meta,Qe(n.graphite),n}function yt(...e){let t,a,r;[e,r]=Re(e);let i,o,n,d=e[e.length-1];if(A(d)?(a=e.slice(0,-1),t=d):a=e,a.length===1){let m=a[0];H(m)||(i=m,o=1)}if(!o&&(i=a,t)){n=1;let m=t;t=c=>m(...c)}return C(F(i),"shape should be an object"),Ft(Array.isArray(i),!n,i,r,t)}function bt(){let e={};return e.req=new Promise((t,a)=>{e.rs=t,e.rj=a}),e.req.catch(()=>{}),e}function Ht(e,t={}){let a=re(A(e)?{handler:e}:e,t),r=W(A(e)?{handler:e}:e,{...t,actualOp:"effect"}),i=R(r);P(i,"op",r.kind="effect"),r.use=l=>(C(A(l),".use argument should be a function"),p.scope.handler=l,r),r.use.getCurrent=()=>p.scope.handler;let o=r.finally=W({named:"finally",derived:1}),n=r.done=o.filterMap({named:"done",fn({status:l,params:f,result:s}){if(l==="done")return{params:f,result:s}}}),d=r.fail=o.filterMap({named:"fail",fn({status:l,params:f,error:s}){if(l==="fail")return{params:f,error:s}}}),m=r.doneData=n.map({named:"doneData",fn:({result:l})=>l}),c=r.failData=d.map({named:"failData",fn:({error:l})=>l}),p=J({scope:{handler:r.defaultConfig.handler||(()=>C(0,`no handler used in ${r.getType()}`))},node:[O((l,f,s)=>{let u=f.handler,w=L(s);if(w){let $=w.handlers.unitMap.get(r)||w.handlers.sidMap[r.sid];$&&(u=$)}return l.handler=u,l},0,1),O(({params:l,req:f,handler:s,args:u=[l]},w,$)=>{let q=Tt($),k=Le(l,f,1,o,$,q),v=Le(l,f,0,o,$,q),[x,y]=Pt(s,v,u);x&&(F(y)&&A(y.then)?y.then(k,v):k(y))},0,1)],meta:{op:"fx",fx:"runner"}});i.scope.runner=p,j(i.seq,O((l,{runner:f},s)=>{let u=G(s)?{params:l,req:{rs(w){},rj(w){}}}:l;return s.meta||(s.meta={fxID:Mt()}),se({target:f,params:u,defer:1,scope:L(s),meta:s.meta}),u.params},0,1)),r.create=l=>{let f=bt(),s={params:l,req:f};if(b&&!ue){let u=b;f.req.finally(()=>{It(u)}).catch(()=>{})}return se({target:r,params:s,scope:b}),f.req};let h=r.inFlight=he(0,{serialize:"ignore",named:(M(r,"name")||r.graphite.id)+".inFlight"}).on(r,l=>l+1).on(o,l=>l-1).map({fn:l=>l,named:"inFlight"});P(o,"needFxCounter","dec"),P(r,"needFxCounter",1);let g=r.pending=h.map({fn:l=>l>0,named:"pending"});return ve(r,[o,n,d,m,c,g,h]),a!=null&&a.domain&&a.domain.hooks.effect(r),r}function vt(e,t){me(e,"merge","first argument");let a=W({name:Ge(e,"merge"),derived:1,and:t});return ae(e,a,[],"merge"),a}function kt(e,t){let a=0;return z(Wt,r=>{r in e&&(C(e[r]!=null,nt(t,r)),a=1)}),a}function Jt(...e){let t,a,r,i,[[o,n,d],m]=Re(e),c=1;return N(n)&&F(o)&&kt(o,"sample")&&(n=o.clock,d=o.fn,c=!o.greedy,i=o.filter,t=o.target,a=o.name,r=o.sid,o=o.source),Bt("sample",n,o,i,t,d,a,m,c,1,0,r)}let xt=typeof Symbol<"u"&&Symbol.observable||"@@observable",V="map",U="stack",R=e=>e.graphite||e,ge=e=>e.family.owners,ye=e=>e.family.links,E=e=>e.stateRef,le=e=>e.value,pe=e=>e.subscribers,G=e=>e.parent,L=e=>e.scope,M=(e,t)=>R(e).meta[t],P=(e,t,a)=>R(e).meta[t]=a,He=e=>e.compositeName,X=e=>(A(e)||F(e))&&"kind"in e;const Je=e=>t=>X(t)&&t.kind===e;let H=Je("store"),St=Je("domain"),de=(e,t)=>{let a=e.indexOf(t);a!==-1&&e.splice(a,1)},j=(e,t)=>e.push(t),Y=(e,t,a)=>!e&&console.error(`${t} is deprecated${a?`, use ${a} instead`:""}`);const be=()=>{let e=0;return()=>""+ ++e};let wt=be(),Ke=be(),$t=be(),Mt=be(),Q=null,Qe=e=>{},je=()=>Q,zt=e=>(e&&Q&&Q.sidRoot&&(e=`${Q.sidRoot}|${e}`),e),ve=(e,t)=>{let a=R(e);z(t,r=>{let i=R(r);a.family.type!=="domain"&&(i.family.type="crosslink"),j(ge(i),a),j(ye(a),i)})},ie=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(R),F=e=>typeof e=="object"&&e!==null,A=e=>typeof e=="function",N=e=>e===void 0,Ve=e=>C(F(e)||A(e),"expect first argument be an object");const Te=(e,t,a,r)=>C(!(!F(e)&&!A(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${a} to be a unit (store, event or effect)${r}`);let me=(e,t,a)=>{Array.isArray(e)?z(e,(r,i)=>Te(r,t,`${i} item of ${a}`,"")):Te(e,t,a," or array of units")},At=(e,t,a="target")=>z(ie(t),r=>Y(!M(r,"derived"),`${e}: derived unit in "${a}"`,"createEvent/createStore")),ze=(e,{fn:t},{a})=>t(e,a),Ct=(e,{fn:t},{a})=>t(a,e),_e=(e,{fn:t})=>t(e);const Xe=(e,t,a,r)=>{let i={id:Ke(),type:e,data:t};return a&&(i.order={priority:a},r&&(i.order.barrierID=++Nt)),i};let Nt=0,_=({from:e="store",store:t,target:a,to:r=a?"store":U,batch:i,priority:o})=>Xe("mov",{from:e,store:t,to:r,target:a},o,i),De=({fn:e,batch:t,priority:a,safe:r=0,filter:i=0,pure:o=0})=>Xe("compute",{fn:e,safe:r,filter:i,pure:o},a,t),Ye=({fn:e})=>De({fn:e,priority:"effect"}),O=(e,t,a)=>De({fn:e,safe:1,filter:t,priority:a&&"effect"}),Z=(e,t,a)=>_({store:e,to:t?U:"a",priority:a&&"sampler",batch:1}),T=(e=_e,t)=>De({fn:e,pure:1,filter:t}),ee=e=>({id:Ke(),current:e}),oe=({current:e})=>e,Ae=(e,t)=>{e.before||(e.before=[]),j(e.before,t)},K=null;const Ee=(e,t)=>{if(!e)return t;if(!t)return e;let a;return(e.v.type===t.v.type&&e.v.id>t.v.id||Ne(e.v.type)>Ne(t.v.type))&&(a=e,e=t,t=a),a=Ee(e.r,t),e.r=e.l,e.l=a,e},Fe=[];let Oe=0;for(;Oe<6;)j(Fe,{first:null,last:null,size:0}),Oe+=1;const qt=()=>{for(let e=0;e<6;e++){let t=Fe[e];if(t.size>0){if(e===3||e===4){t.size-=1;let r=K.v;return K=Ee(K.l,K.r),r}t.size===1&&(t.last=null);let a=t.first;return t.first=a.r,t.size-=1,a.v}}},B=(e,t,a,r,i,o,n)=>Ce(0,{a:null,b:null,node:a,parent:r,value:i,page:t,scope:o,meta:n},e),Ce=(e,t,a,r=0)=>{let i=Ne(a),o=Fe[i],n={v:{idx:e,stack:t,type:a,id:r},l:null,r:null};i===3||i===4?K=Ee(K,n):(o.size===0?o.first=n:o.last.r=n,o.last=n),o.size+=1},Ne=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},we=new Set;let b,fe=1,ue=0,ce=0,D=null,It=e=>{b=e},We=e=>{D=e};const Ze=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=G(e);if(e)return e}return null};let Rt=(e,t,a,r,i)=>{let o=Ze(e,r.id);return o?o.reg[r.id]:t?(te(t,r,i),t.reg[r.id]):r};const jt=e=>e;let te=(e,t,a,r,i)=>{var o;let n=e.reg,d=t.sid,m=t==null||(o=t.meta)===null||o===void 0?void 0:o.serialize,c=e.fromSerialize&&m!=="ignore"&&(m==null?void 0:m.read)||jt;if(n[t.id])return;let p={id:t.id,current:t.current,meta:t.meta};if(p.id in e.values.idMap)p.current=e.values.idMap[p.id];else if(d&&d in e.values.sidMap&&!(d in e.sidIdMap))p.current=c(e.values.sidMap[d]);else if(t.before&&!i){let h=0,g=a||!t.noInit||r;z(t.before,l=>{switch(l.type){case V:{let f=l.from;if(f||l.fn){f&&te(e,f,a,r);let s=f&&n[f.id].current;g&&(p.current=l.fn?l.fn(s):s)}break}case"field":h||(h=1,p.current=Array.isArray(p.current)?[...p.current]:{...p.current}),te(e,l.from,a,r),g&&(p.current[l.field]=n[n[l.from.id].id].current)}})}d&&(e.sidIdMap[d]=t.id),n[t.id]=p};const _t=(e,t,a)=>{try{return t(le(a),e.scope,a)}catch(r){console.error(r),e.fail=1,e.failReason=r}};let re=(e,t={})=>(F(e)&&(re(e.or,t),Ie(e,(a,r)=>{N(a)||r==="or"||r==="and"||(t[r]=a)}),re(e.and,t)),t);const Be=(e,t)=>{de(e.next,t),de(ge(e),t),de(ye(e),t)},qe=(e,t,a)=>{let r;e.next.length=0,e.seq.length=0,e.scope=null;let i=ye(e);for(;r=i.pop();)Be(r,e),(t||a&&M(e,"op")!=="sample"||r.family.type==="crosslink")&&qe(r,t,M(r,"op")!=="on"&&a);for(i=ge(e);r=i.pop();)Be(r,e),a&&r.family.type==="crosslink"&&qe(r,t,M(r,"op")!=="on"&&a)},ne=e=>e.clear();let Dt=(e,{deep:t}={})=>{let a=0;if(e.ownerSet&&e.ownerSet.delete(e),H(e))ne(pe(e));else if(St(e)){a=1;let r=e.history;ne(r.events),ne(r.effects),ne(r.stores),ne(r.domains)}qe(R(e),!!t,a)},et=e=>{let t=()=>Dt(e);return t.unsubscribe=t,t},ae=(e,t,a,r,i)=>J({node:a,parent:e,child:t,scope:{fn:i},meta:{op:r},family:{owners:[e,t],links:t},regional:1}),tt=(e,t)=>(C(A(t),".watch argument should be a function"),et(J({scope:{fn:t},node:[Ye({fn:_e})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Et=(e,t,a="event")=>{G(e)&&G(e).hooks[a](t)},rt=(e,t,a)=>{let r=re(a),i=e==="domain",o=wt(),{sid:n=null,named:d=null,domain:m=null,parent:c=m}=r,p=d||r.name||(i?"":o),h=gt(p,c),g={op:t.kind=e,name:t.shortName=p,sid:t.sid=zt(n),named:d,unitId:t.id=o,serialize:r.serialize,derived:r.derived,config:r};return t.parent=c,t.compositeName=h,t.defaultConfig=r,t.thru=l=>(Y(0,"thru","js pipe"),l(t)),t.getType=()=>h.fullName,!i&&(t.subscribe=l=>(Ve(l),t.watch(A(l)?l:f=>l.next&&l.next(f))),t[xt]=()=>t),g};const $e=(e,t,a,r)=>{let i;F(a)&&(i=a,a=a.fn);let o=W({name:`${e.shortName} → *`,derived:1,and:i});return ae(e,o,r,t,a),o},at=(e,t,a,r,i)=>{let o=E(t),n=_({store:o,to:"a",priority:"read"});a===V&&(n.data.softRead=1);let d=[n,T(r)];return I("storeOnMap",o,d,H(e)&&E(e)),ae(e,t,d,a,i)},Ft=(e,t,a,r,i)=>{let o=e?f=>[...f]:f=>({...f}),n=e?[]:{},d=o(n),m=ee(d),c=ee(1);m.type=e?"list":"shape",m.noInit=1,I("combineBase",m,c);let p=he(d,{name:Ge(a),derived:1,and:r}),h=E(p);h.noInit=1,P(p,"isCombine",1);let g=Z(m);g.order={priority:"barrier"};let l=[O((f,s,u)=>(u.scope&&!u.scope.reg[m.id]&&(u.c=1),f)),g,_({store:c,to:"b"}),O((f,{key:s},u)=>{if(u.c||f!==u.a[s])return t&&u.b&&(u.a=o(u.a)),u.a[s]=f,1},1),_({from:"a",target:m}),_({from:"value",store:0,target:c}),_({from:"value",store:1,target:c,priority:"barrier",batch:1}),Z(m,1),i&&T()];return Ie(a,(f,s)=>{if(!H(f))return C(!X(f)&&!N(f),`combine expects a store in a field ${s}`),void(d[s]=n[s]=f);n[s]=f.defaultState,d[s]=f.getState();let u=ae(f,p,l,"combine",i);u.scope.key=s;let w=E(f);Ae(m,{type:"field",field:s,from:w}),I("combineField",w,u)}),p.defaultShape=a,Ae(h,{type:V,from:m,fn:i}),p.defaultState=i?h.current=i(d):n,p};let Pt=(e,t,a)=>{try{return[1,e(...a)]}catch(r){return t(r),[0,null]}},Tt=e=>{let t=L(e),a={ref:t};return t&&j(t.activeEffects,a),a},Le=(e,t,a,r,i,o)=>n=>{o.ref&&de(o.ref.activeEffects,o),se({target:[r,Ot],params:[a?{status:"done",params:e,result:n}:{status:"fail",params:e,error:n},{value:n,fn:a?t.rs:t.rj}],defer:1,page:i.page,scope:o.ref,meta:i.meta})};const Ot=J({node:[Ye({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}}),Wt=["source","clock","target"],nt=(e,t)=>e+`: ${t} should be defined`;let Bt=(e,t,a,r,i,o,n,d,m,c,p,h)=>{let g=!!i;C(!N(a)||!N(t),nt(e,"either source or clock"));let l=0;N(a)?l=1:X(a)||(a=yt(a)),N(t)?t=a:(me(t,e,"clock"),Array.isArray(t)&&(t=vt(t))),l&&(a=t),d||n||(n=a.shortName);let f="none";(p||r)&&(X(r)?f="unit":(C(A(r),"`filter` should be function or unit"),f="fn")),i?(me(i,e,"target"),At(e,i)):f==="none"&&c&&H(a)&&H(t)?i=he(o?o(oe(E(a)),oe(E(t))):oe(E(a)),{name:n,sid:h,or:d}):(i=W({name:n,derived:1,or:d}),I("sampleTarget",R(i)));let s=ee(),u=[];if(f==="unit"){let[k,v]=Ue(r,i,t,s,e);u=[...Me(v),...Me(k)]}let[w,$]=Ue(a,i,t,s,e),q=ae(t,i,[I("sampleSourceLoader"),_({from:U,target:s}),...Me($),Z(w,1,m),...u,Z(s),f==="fn"&&T((k,v,{a:x})=>r(k,x),1),o&&T(ze),I("sampleSourceUpward",g)],e,o);return ve(a,[q]),Object.assign(q.meta,d,{joint:1}),i};const Me=e=>[Z(e),O((t,a,{a:r})=>r,1)],Ue=(e,t,a,r,i)=>{let o=H(e),n=o?E(e):ee(),d=ee(o);return o||J({parent:e,node:[_({from:U,target:n}),_({from:"value",store:1,target:d})],family:{owners:[e,t,a],links:t},meta:{op:i},regional:1}),I("sampleSource",d,n,r),[n,d]};function Lt(e){let t,a;return{c(){t=st("script"),this.h()},l(r){const i=ft("svelte-1nfdud7",document.head);t=dt(i,"SCRIPT",{src:!0}),ut(t).forEach(xe),i.forEach(xe),this.h()},h(){ct(t.src,a="https://telegram.org/js/telegram-web-app.js")||pt(t,"src",a)},m(r,i){mt(document.head,t)},p:Se,i:Se,o:Se,d(r){xe(t)}}}function Ut(e,t,a){let{expand:r=!0}=t;return ht(()=>{r&&Telegram.WebApp.expand()}),e.$$set=i=>{"expand"in i&&a(0,r=i.expand)},[r]}class Kt extends it{constructor(t){super(),lt(this,t,Ut,Lt,ot,{expand:0})}}export{Kt as T,he as p,W as u,Jt as x,Ht as y};
